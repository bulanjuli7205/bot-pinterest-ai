const a0_0x227650=a0_0x207b;(function(_0x5d1574,_0x884173){const _0x12b622=a0_0x207b,_0x5ca7e6=_0x5d1574();while(!![]){try{const _0x311198=parseInt(_0x12b622(0x216))/0x1*(-parseInt(_0x12b622(0x1ad))/0x2)+-parseInt(_0x12b622(0x225))/0x3*(parseInt(_0x12b622(0x21a))/0x4)+-parseInt(_0x12b622(0x1d3))/0x5*(-parseInt(_0x12b622(0x204))/0x6)+parseInt(_0x12b622(0x1f7))/0x7*(-parseInt(_0x12b622(0x1f5))/0x8)+parseInt(_0x12b622(0x215))/0x9+parseInt(_0x12b622(0x1e8))/0xa*(-parseInt(_0x12b622(0x19e))/0xb)+parseInt(_0x12b622(0x1d5))/0xc*(parseInt(_0x12b622(0x1f4))/0xd);if(_0x311198===_0x884173)break;else _0x5ca7e6['push'](_0x5ca7e6['shift']());}catch(_0x5882fb){_0x5ca7e6['push'](_0x5ca7e6['shift']());}}}(a0_0x398d,0xb2be4));const puppeteer=require('puppeteer-extra'),StealthPlugin=require(a0_0x227650(0x1d8)),axios=require(a0_0x227650(0x219)),fs=require('fs')['promises'],path=require(a0_0x227650(0x1c7)),config=require(a0_0x227650(0x1e7)),fetch=require(a0_0x227650(0x1e4));puppeteer[a0_0x227650(0x1fb)](StealthPlugin());const VALIDATION_SERVER_URL=a0_0x227650(0x22a),PRODUCT_NAME=a0_0x227650(0x1e5);async function checkLicense(){const _0x1b6197=a0_0x227650;console[_0x1b6197(0x1c2)](_0x1b6197(0x20b));const _0x3b30d0=process['env']['BOT_LICENSE_EMAIL'];if(!_0x3b30d0)throw new Error(_0x1b6197(0x1e0));const _0x29d281=VALIDATION_SERVER_URL+_0x1b6197(0x1da)+encodeURIComponent(_0x3b30d0)+_0x1b6197(0x1a7)+PRODUCT_NAME;try{const _0x4d3eea=await fetch(_0x29d281),_0x26bd04=await _0x4d3eea[_0x1b6197(0x1d6)]();if(_0x4d3eea['ok']&&_0x26bd04[_0x1b6197(0x1a6)]==='valid')return console[_0x1b6197(0x1c2)]('Lisensi\x20valid.'),!![];throw new Error(_0x1b6197(0x1dd)+_0x4d3eea[_0x1b6197(0x1a6)]+_0x1b6197(0x1e6)+(_0x26bd04[_0x1b6197(0x20f)]||_0x1b6197(0x193)));}catch(_0x53fbea){throw new Error(_0x1b6197(0x1c1)+_0x53fbea[_0x1b6197(0x20f)]);}}function a0_0x398d(){const _0x3319e3=['writeFile','error_screenshot.png','response','Mencoba\x20mencari\x20tag\x20dengan\x20kata\x20pancingan:\x20\x22','down','settings','Strict','Tidak\x20ada\x20gambar\x20Pexels\x20yang\x20ditemukan\x20untuk\x20keyword:\x20','split','Gagal\x20menghubungi\x20server\x20lisensi:\x20','log','prompt','Error\x20saat\x20membuat\x20kata\x20pancingan\x20tags:','Menghubungi\x20Gemini\x20AI\x20untuk\x20konten...','length','path','temp_image.jpg','Menghubungi\x20Gemini\x20AI\x20untuk\x20kata\x20pancingan\x20tags...','map','sameSite','/usr/bin/google-chrome','pages','utf8','\x20dari\x20','setCookie','Menunggu\x2015\x20detik\x20untuk\x20proses\x20publish...','press','4141070cEitWD','type','9300dkeQfw','json','div[data-test-id=\x22editor-with-mentions\x22]\x20[contenteditable=\x22true\x22]','puppeteer-extra-plugin-stealth','Mencari\x20gambar\x20di\x20Pexels\x20dengan\x20keyword:\x20\x22','?email=','application/json','focus','Lisensi\x20tidak\x20valid\x20(Status:\x20','readFile','keywordFile','KESALAHAN:\x20GitHub\x20Secret\x20\x27BOT_LICENSE_EMAIL\x27\x20tidak\x20ditemukan.','title','error','includes','node-fetch','pinterest',')\x20-\x20','./config.json','4001360cgDcOd','{pinTitle}','File\x20keyword\x20\x27','all','join','fallbackTitle','div[data-test-id=\x22storyboard-creation-nav-done\x22]\x20button','&per_page=20','env','gemini','Tombol\x20\x22Publish\x22\x20sudah\x20hilang,\x20diasumsikan\x20publish\x20berhasil.','Secret\x20\x27PINTEREST_COOKIES\x27\x20tidak\x20ditemukan.','30303yzLeVh','1488504evIUfT','fallbackDescription','21MtLZoR','get','appendFile','\x20tag\x20berhasil\x20ditambahkan.','use','replace','{keyword}','tags','--window-size=1920,1080','https://api.pexels.com/v1/search?query=','goto','Mengisi\x20detail\x20Pin...','Navigasi\x20ke\x20halaman\x20board:\x20','6bDcqMD','cookies.json','input#storyboard-selector-interest-tags','filter','):\x20\x22','Gambar\x20Pexels\x20ditemukan:\x20','used_images.txt','Memulai\x20validasi\x20lisensi...','Lax','post','Mempublikasikan\x20Pin...','message','keyboard','GEMINI_API_KEY','Error\x20saat\x20menghubungi\x20Gemini\x20AI:','Mencari\x20menu\x20\x22Pin\x22...','\x22,\x20membersihkan\x20input.','5741766NhpEca','5893LvOEPw','Berhasil\x20menambahkan\x20tag.','div[data-test-id=\x22storyboard-suggestions-item\x22]','axios','104bGYaoR','url','waitForNavigation','PINTEREST_COOKIES','Menggunakan\x20konten\x20fallback.','ENOENT','match','text','code','domcontentloaded','boardUrl','88869fkgQYr','ðŸŽ‰\x20Tugas\x20selesai.','description','click','Berhasil\x20masuk\x20ke\x20Pin\x20Builder.\x20Mengunggah\x20gambar...','https://license-server-botnews.vercel.app/api/validate','data','Tidak\x20ada\x20pesan','trim','Total\x20','Konten\x20dari\x20Gemini\x20berhasil\x20didapatkan.','waitForSelector','input[type=file]','Screenshot\x20error\x20disimpan\x20di:\x20','--no-sandbox','launch','pexels','Control','33rbApYb','\x27:\x20','Backspace','close','parse','unlink','candidates','tagsPrompt','status','&product=','Kata\x20pancingan\x20tags\x20dari\x20AI:\x20','newPage','destinationLink','input#WebsiteField','button[aria-label^=\x22Create\x22],\x20button[aria-label^=\x22Buat\x22]','4NXYDfK','https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=','Menggunakan\x20keyword\x20dari\x20file\x20(baris\x20','Mencari\x20tombol\x20\x22Buat\x22\x20(+)\x20...','find','content','Cookies\x20berhasil\x20di-set\x20ke\x20browser.','new','File\x20last_keyword_index.txt\x20tidak\x20ditemukan,\x20memulai\x20dari\x20awal.','Terjadi\x20kesalahan\x20fatal:','waitForTimeout'];a0_0x398d=function(){return _0x3319e3;};return a0_0x398d();}const USED_PEXELS_FILE=path[a0_0x227650(0x1ec)](__dirname,a0_0x227650(0x20a)),COOKIES_PATH=path['join'](__dirname,a0_0x227650(0x205)),LAST_KEYWORD_INDEX_FILE=path[a0_0x227650(0x1ec)](__dirname,'last_keyword_index.txt');function a0_0x207b(_0x5ca289,_0x53abdf){const _0x398de8=a0_0x398d();return a0_0x207b=function(_0x207ba4,_0x38152f){_0x207ba4=_0x207ba4-0x192;let _0x143b1c=_0x398de8[_0x207ba4];return _0x143b1c;},a0_0x207b(_0x5ca289,_0x53abdf);}async function getUsedItems(_0x3ba876){const _0x2ce62b=a0_0x227650;try{const _0x145c0b=await fs['readFile'](_0x3ba876,_0x2ce62b(0x1ce));return new Set(_0x145c0b[_0x2ce62b(0x1c0)]('\x0a')[_0x2ce62b(0x207)](_0x2b35aa=>_0x2b35aa[_0x2ce62b(0x194)]()!==''));}catch(_0x5850fa){if(_0x5850fa[_0x2ce62b(0x222)]===_0x2ce62b(0x21f))return new Set();throw _0x5850fa;}}async function addUsedItem(_0x201c0e,_0x381ba2){const _0x216cbc=a0_0x227650;await fs[_0x216cbc(0x1f9)](_0x201c0e,_0x381ba2+'\x0a');}async function getPexelsImage(_0x214dec,_0x254d2e){const _0x43c1cf=a0_0x227650;console[_0x43c1cf(0x1c2)](_0x43c1cf(0x1d9)+_0x214dec+'\x22');const _0x56c548=await axios[_0x43c1cf(0x1f8)](_0x43c1cf(0x200)+encodeURIComponent(_0x214dec)+_0x43c1cf(0x1ef),{'headers':{'Authorization':process[_0x43c1cf(0x1f0)]['PEXELS_API_KEY']}}),_0x31ef17=_0x56c548[_0x43c1cf(0x192)]['photos'];if(!_0x31ef17||_0x31ef17[_0x43c1cf(0x1c6)]===0x0)throw new Error(_0x43c1cf(0x1bf)+_0x214dec+'.');const _0x2dc36c=_0x31ef17[_0x43c1cf(0x1b1)](_0x218cc6=>!_0x254d2e['has'](String(_0x218cc6['id'])));if(!_0x2dc36c)throw new Error('Semua\x20gambar\x20Pexels\x20yang\x20ditemukan\x20sudah\x20pernah\x20digunakan.');return console['log'](_0x43c1cf(0x209)+_0x2dc36c['url']),{'url':_0x2dc36c['src']['large'],'id':String(_0x2dc36c['id'])};}async function getGeminiContentForPexels(_0x1cac6a){const _0x441f76=a0_0x227650;console['log'](_0x441f76(0x1c5));const _0x3787a1=config[_0x441f76(0x1f1)][_0x441f76(0x1c3)][_0x441f76(0x1fc)](_0x441f76(0x1fd),_0x1cac6a);try{const _0x1b56da=await axios[_0x441f76(0x20d)](_0x441f76(0x1ae)+process[_0x441f76(0x1f0)]['GEMINI_API_KEY'],{'contents':[{'parts':[{'text':_0x3787a1}]}]},{'headers':{'Content-Type':_0x441f76(0x1db)}}),_0x3381bd=_0x1b56da['data'][_0x441f76(0x1a4)][0x0][_0x441f76(0x1b2)]['parts'][0x0][_0x441f76(0x221)],_0x3b89fc=_0x3381bd[_0x441f76(0x220)](/Judul: (.*)/),_0x5c014d=_0x3381bd[_0x441f76(0x220)](/Deskripsi: (.*)/s);if(_0x3b89fc&&_0x5c014d)return console[_0x441f76(0x1c2)](_0x441f76(0x196)),{'title':_0x3b89fc[0x1]['trim'](),'description':_0x5c014d[0x1][_0x441f76(0x194)]()};}catch(_0x1ab612){console[_0x441f76(0x1e2)](_0x441f76(0x212),_0x1ab612[_0x441f76(0x1ba)]?_0x1ab612[_0x441f76(0x1ba)][_0x441f76(0x192)]:_0x1ab612[_0x441f76(0x20f)]);}return console[_0x441f76(0x1c2)](_0x441f76(0x21e)),{'title':config[_0x441f76(0x1f1)][_0x441f76(0x1ed)],'description':config[_0x441f76(0x1f1)][_0x441f76(0x1f6)][_0x441f76(0x1fc)](_0x441f76(0x1fd),'#'+_0x1cac6a['replace'](/\s+/g,''))};}async function getGeminiTags(_0x98ae38){const _0x370021=a0_0x227650;console['log'](_0x370021(0x1c9));const _0x2ebf21=config[_0x370021(0x1f1)][_0x370021(0x1a5)][_0x370021(0x1fc)](_0x370021(0x1e9),_0x98ae38);try{const _0x48dfda=await axios[_0x370021(0x20d)](_0x370021(0x1ae)+process['env'][_0x370021(0x211)],{'contents':[{'parts':[{'text':_0x2ebf21}]}]},{'headers':{'Content-Type':_0x370021(0x1db)}}),_0x51b92a=_0x48dfda['data'][_0x370021(0x1a4)][0x0][_0x370021(0x1b2)]['parts'][0x0]['text'];return _0x51b92a[_0x370021(0x1c0)](',')[_0x370021(0x1ca)](_0x5e1518=>_0x5e1518['trim']())[_0x370021(0x207)](_0x26704c=>_0x26704c);}catch(_0x352269){return console['error'](_0x370021(0x1c4),_0x352269[_0x370021(0x20f)]),[];}}async function main(){const _0x3cbf90=a0_0x227650;await checkLicense();let _0x4b80e6;try{if(process['env']['PINTEREST_COOKIES'])await fs['writeFile'](COOKIES_PATH,process[_0x3cbf90(0x1f0)][_0x3cbf90(0x21d)],_0x3cbf90(0x1ce));else throw new Error(_0x3cbf90(0x1f3));const _0x312b1c=await fs[_0x3cbf90(0x1de)](COOKIES_PATH,_0x3cbf90(0x1ce));let _0x4cb0aa=JSON[_0x3cbf90(0x1a2)](_0x312b1c);const _0x365ecb=_0x4cb0aa[_0x3cbf90(0x1ca)](_0x4a5b8c=>{const _0x2c6fbe=_0x3cbf90;_0x4a5b8c[_0x2c6fbe(0x1cb)]&&![_0x2c6fbe(0x20c),_0x2c6fbe(0x1be),'None'][_0x2c6fbe(0x1e3)](_0x4a5b8c[_0x2c6fbe(0x1cb)])&&delete _0x4a5b8c[_0x2c6fbe(0x1cb)];for(const _0x181d43 in _0x4a5b8c){_0x4a5b8c[_0x181d43]===null&&delete _0x4a5b8c[_0x181d43];}return _0x4a5b8c;});_0x4b80e6=await puppeteer[_0x3cbf90(0x19b)]({'executablePath':_0x3cbf90(0x1cc),'headless':_0x3cbf90(0x1b4),'args':[_0x3cbf90(0x19a),_0x3cbf90(0x1ff)]});const _0x44cdc5=await _0x4b80e6[_0x3cbf90(0x1a9)]();await _0x44cdc5[_0x3cbf90(0x1d0)](..._0x365ecb),console[_0x3cbf90(0x1c2)](_0x3cbf90(0x1b3));const _0x2fb2b2=path[_0x3cbf90(0x1ec)](__dirname,config[_0x3cbf90(0x19c)][_0x3cbf90(0x1df)]||'keywords.txt');let _0x25de67=[];try{const _0x12a004=await fs[_0x3cbf90(0x1de)](_0x2fb2b2,_0x3cbf90(0x1ce));_0x25de67=_0x12a004['split']('\x0a')['filter'](_0x15c2e6=>_0x15c2e6[_0x3cbf90(0x194)]()!=='');if(_0x25de67[_0x3cbf90(0x1c6)]===0x0)throw new Error(_0x3cbf90(0x1ea)+_0x2fb2b2+'\x27\x20kosong.');}catch(_0x31c232){throw new Error('Gagal\x20membaca\x20file\x20keyword\x20\x27'+_0x2fb2b2+_0x3cbf90(0x19f)+_0x31c232[_0x3cbf90(0x20f)]);}let _0x10c4a6=-0x1;try{const _0x8a56ea=await fs['readFile'](LAST_KEYWORD_INDEX_FILE,_0x3cbf90(0x1ce));_0x10c4a6=parseInt(_0x8a56ea['trim'](),0xa);}catch(_0x3b13a4){console[_0x3cbf90(0x1c2)](_0x3cbf90(0x1b5));}const _0x250fdc=(_0x10c4a6+0x1)%_0x25de67[_0x3cbf90(0x1c6)],_0x4e2d16=_0x25de67[_0x250fdc];console[_0x3cbf90(0x1c2)](_0x3cbf90(0x1af)+(_0x250fdc+0x1)+_0x3cbf90(0x208)+_0x4e2d16+'\x22');const _0x2f5b07=await getUsedItems(USED_PEXELS_FILE),_0x33437=await getPexelsImage(_0x4e2d16,_0x2f5b07),_0x2159f0=await getGeminiContentForPexels(_0x4e2d16),_0x562fca=config[_0x3cbf90(0x1bd)][_0x3cbf90(0x1aa)];console['log'](_0x3cbf90(0x203)+config['pinterest'][_0x3cbf90(0x224)]),await _0x44cdc5[_0x3cbf90(0x201)](config['pinterest']['boardUrl'],{'waitUntil':_0x3cbf90(0x223),'timeout':0x15f90}),console['log'](_0x3cbf90(0x1b0));const _0x18a1c1=_0x3cbf90(0x1ac);await _0x44cdc5[_0x3cbf90(0x197)](_0x18a1c1,{'visible':!![],'timeout':0x7530}),await _0x44cdc5[_0x3cbf90(0x228)](_0x18a1c1),console[_0x3cbf90(0x1c2)](_0x3cbf90(0x213));const _0x3a917c='button[data-test-id=\x22Create\x20Story\x20Pin\x22]';await _0x44cdc5[_0x3cbf90(0x197)](_0x3a917c,{'visible':!![]}),await Promise[_0x3cbf90(0x1eb)]([_0x44cdc5[_0x3cbf90(0x21c)]({'waitUntil':'domcontentloaded'}),_0x44cdc5[_0x3cbf90(0x228)](_0x3a917c)]),console[_0x3cbf90(0x1c2)](_0x3cbf90(0x229));const _0x170122=await axios[_0x3cbf90(0x1f8)](_0x33437[_0x3cbf90(0x21b)],{'responseType':'arraybuffer'}),_0x8a6097=path['join'](__dirname,_0x3cbf90(0x1c8));await fs[_0x3cbf90(0x1b8)](_0x8a6097,_0x170122[_0x3cbf90(0x192)]);const _0x62a006=await _0x44cdc5[_0x3cbf90(0x197)](_0x3cbf90(0x198),{'timeout':0xea60});await _0x62a006['uploadFile'](_0x8a6097),console[_0x3cbf90(0x1c2)](_0x3cbf90(0x202));const _0x407e7e='input#storyboard-selector-title',_0x18adbf=_0x3cbf90(0x1d7),_0x3959b8=_0x3cbf90(0x1ab),_0x1c82cd=_0x3cbf90(0x206),_0x34b36c=_0x3cbf90(0x1ee);await _0x44cdc5['waitForSelector'](_0x407e7e,{'timeout':0xea60}),await _0x44cdc5['type'](_0x407e7e,_0x2159f0[_0x3cbf90(0x1e1)],{'delay':0x64}),await _0x44cdc5[_0x3cbf90(0x1d4)](_0x18adbf,_0x2159f0[_0x3cbf90(0x227)],{'delay':0x64});_0x562fca&&await _0x44cdc5[_0x3cbf90(0x1d4)](_0x3959b8,_0x562fca,{'delay':0x64});const _0xd500d9=config[_0x3cbf90(0x1fe)]['count']||0x3;let _0x11e1b7=0x0;const _0x10c6bc=await getGeminiTags(_0x2159f0[_0x3cbf90(0x1e1)]);console[_0x3cbf90(0x1c2)](_0x3cbf90(0x1a8)+_0x10c6bc[_0x3cbf90(0x1ec)](',\x20'));const _0x85378c=await _0x44cdc5[_0x3cbf90(0x197)](_0x1c82cd),_0x265eea=_0x3cbf90(0x218);for(const _0x249478 of _0x10c6bc){if(_0x11e1b7>=_0xd500d9)break;try{console[_0x3cbf90(0x1c2)](_0x3cbf90(0x1bb)+_0x249478+'\x22'),await _0x85378c['focus'](),await _0x44cdc5[_0x3cbf90(0x1d4)](_0x1c82cd,_0x249478,{'delay':0x96}),await _0x44cdc5[_0x3cbf90(0x1b7)](0x7d0),await _0x44cdc5['waitForSelector'](_0x265eea,{'visible':!![],'timeout':0x1388}),await _0x44cdc5['click'](_0x265eea),_0x11e1b7++,console['log'](_0x3cbf90(0x217)),await _0x44cdc5[_0x3cbf90(0x1b7)](0x5dc);}catch(_0x3790a0){console[_0x3cbf90(0x1c2)]('Tidak\x20ada\x20saran\x20tag\x20untuk\x20\x22'+_0x249478+_0x3cbf90(0x214)),await _0x85378c[_0x3cbf90(0x1dc)](),await _0x44cdc5[_0x3cbf90(0x210)][_0x3cbf90(0x1bc)](_0x3cbf90(0x19d)),await _0x44cdc5[_0x3cbf90(0x210)]['press']('A'),await _0x44cdc5[_0x3cbf90(0x210)]['up'](_0x3cbf90(0x19d)),await _0x44cdc5[_0x3cbf90(0x210)][_0x3cbf90(0x1d2)](_0x3cbf90(0x1a0)),await _0x44cdc5[_0x3cbf90(0x1b7)](0x1f4);}}console['log'](_0x3cbf90(0x195)+_0x11e1b7+_0x3cbf90(0x1cf)+_0xd500d9+_0x3cbf90(0x1fa)),console[_0x3cbf90(0x1c2)](_0x3cbf90(0x20e));const _0x5e8925=await _0x44cdc5[_0x3cbf90(0x197)](_0x34b36c,{'visible':!![]});await _0x5e8925[_0x3cbf90(0x228)](),console[_0x3cbf90(0x1c2)](_0x3cbf90(0x1d1)),await _0x44cdc5[_0x3cbf90(0x1b7)](0x3a98);const _0x3541fd=await _0x44cdc5['$'](_0x34b36c);_0x3541fd?(console[_0x3cbf90(0x1c2)]('Tombol\x20\x22Publish\x22\x20masih\x20terlihat,\x20mencoba\x20klik\x20sekali\x20lagi...'),await _0x3541fd[_0x3cbf90(0x228)](),await _0x44cdc5['waitForTimeout'](0x2710)):console[_0x3cbf90(0x1c2)](_0x3cbf90(0x1f2)),console[_0x3cbf90(0x1c2)]('âœ…\x20Pin\x20berhasil\x20dibuat\x20dengan\x20judul:\x20\x22'+_0x2159f0[_0x3cbf90(0x1e1)]+'\x22'),await addUsedItem(USED_PEXELS_FILE,_0x33437['id']),await fs[_0x3cbf90(0x1b8)](LAST_KEYWORD_INDEX_FILE,String(_0x250fdc),_0x3cbf90(0x1ce)),console[_0x3cbf90(0x1c2)](_0x3cbf90(0x226));}catch(_0x3d0c4e){console[_0x3cbf90(0x1e2)](_0x3cbf90(0x1b6),_0x3d0c4e);if(_0x4b80e6){const _0x42ef4f=(await _0x4b80e6[_0x3cbf90(0x1cd)]())[0x0],_0x4675c8=path[_0x3cbf90(0x1ec)](__dirname,_0x3cbf90(0x1b9));await _0x42ef4f['screenshot']({'path':_0x4675c8,'fullPage':!![]}),console['log'](_0x3cbf90(0x199)+_0x4675c8);}process['exit'](0x1);}finally{if(_0x4b80e6){const _0x585be2=path['join'](__dirname,_0x3cbf90(0x1c8));try{await fs[_0x3cbf90(0x1a3)](_0x585be2);}catch(_0x85cb1e){}await _0x4b80e6[_0x3cbf90(0x1a1)]();}}}main();
