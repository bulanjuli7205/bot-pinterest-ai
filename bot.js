const a0_0x49d844=a0_0xccbe;(function(_0x1337fa,_0x107710){const _0x52bc1b=a0_0xccbe,_0x2b0a6e=_0x1337fa();while(!![]){try{const _0x1d9f76=parseInt(_0x52bc1b(0xd9))/0x1*(parseInt(_0x52bc1b(0xa2))/0x2)+-parseInt(_0x52bc1b(0xde))/0x3*(parseInt(_0x52bc1b(0xc9))/0x4)+parseInt(_0x52bc1b(0xdf))/0x5*(-parseInt(_0x52bc1b(0xc0))/0x6)+-parseInt(_0x52bc1b(0x9e))/0x7+-parseInt(_0x52bc1b(0xdc))/0x8+parseInt(_0x52bc1b(0xfb))/0x9+parseInt(_0x52bc1b(0xdd))/0xa;if(_0x1d9f76===_0x107710)break;else _0x2b0a6e['push'](_0x2b0a6e['shift']());}catch(_0x547b72){_0x2b0a6e['push'](_0x2b0a6e['shift']());}}}(a0_0x27d2,0xacb0c));const puppeteer=require(a0_0x49d844(0xe9)),StealthPlugin=require('puppeteer-extra-plugin-stealth'),axios=require(a0_0x49d844(0xd1)),fs=require('fs')['promises'],path=require('path'),config=require(a0_0x49d844(0x116)),fetch=require(a0_0x49d844(0xc5));puppeteer['use'](StealthPlugin());function a0_0x27d2(){const _0x2ed822=['Mengisi\x20detail\x20Pin...','url','):\x20\x22','get','arraybuffer','pexels','join','post','Menggunakan\x20konten\x20fallback.','text','https://license-server-botnews.vercel.app/api/validate','130014QGGMap','Memulai\x20validasi\x20lisensi...','includes','error_screenshot.png','appendFile','node-fetch','destinationLink','parts','goto','1661336CdKEpG','last_keyword_index.txt','length','PEXELS_API_KEY','settings','https://api.pexels.com/v1/search?query=','waitForSelector','has','axios','input[type=file]','type','Mencari\x20gambar\x20di\x20Pexels\x20dengan\x20keyword:\x20\x22','div[data-test-id=\x22storyboard-creation-nav-done\x22]\x20button','GEMINI_API_KEY','message','Lisensi\x20valid.','3jYEiYh','sameSite','keywordFile','890056zivOwU','18616210caoAos','3uxrgMe','165RkbMna','Error\x20saat\x20menghubungi\x20Gemini\x20AI:','Menghubungi\x20Gemini\x20AI\x20untuk\x20konten...','Semua\x20gambar\x20Pexels\x20yang\x20ditemukan\x20sudah\x20pernah\x20digunakan.','prompt','Gagal\x20menghubungi\x20server\x20lisensi:\x20','trim','Tombol\x20\x22Publish\x22\x20masih\x20terlihat,\x20mencoba\x20klik\x20sekali\x20lagi...','fallbackTitle','&product=','puppeteer-extra','Menggunakan\x20keyword\x20dari\x20file\x20(baris\x20','cookies.json','\x27:\x20','&per_page=20','description','click','waitForTimeout','None','Lisensi\x20tidak\x20valid\x20(Status:\x20','Screenshot\x20error\x20disimpan\x20di:\x20','find','map','error','domcontentloaded','env','Terjadi\x20kesalahan\x20fatal:','content','1208133udYalH','\x22\x20berhasil\x20diproses.','uploadFile','title','input#WebsiteField','log','input#storyboard-selector-title','Mempersiapkan\x20untuk\x20memposting\x20pin:\x20\x22','utf8','ðŸŽ‰\x20Tugas\x20selesai.','https://www.pinterest.com/pin-builder/','replace','gemini','split','Tombol\x20\x22Publish\x22\x20sudah\x20hilang,\x20diasumsikan\x20publish\x20berhasil.','large','data','screenshot','response','\x27\x20kosong.','close','ENOENT','âœ…\x20Pin\x20\x22','unlink','code','Tidak\x20ada\x20pesan','Secret\x20\x27PINTEREST_COOKIES\x27\x20tidak\x20ditemukan.','./config.json','PINTEREST_COOKIES','readFile','Menunggu\x2015\x20detik\x20untuk\x20proses\x20publish...','status','used_images.txt','keywords.txt','Tidak\x20ada\x20gambar\x20Pexels\x20yang\x20ditemukan\x20untuk\x20keyword:\x20','Konten\x20dari\x20Gemini\x20berhasil\x20didapatkan.','parse','3782261ctnSWB','writeFile','Cookies\x20berhasil\x20di-set\x20ke\x20browser.','exit','328982iZxHNj','newPage','{keyword}','--no-sandbox','Gagal\x20membaca\x20file\x20keyword\x20\x27','Mempublikasikan\x20Pin...','KESALAHAN:\x20GitHub\x20Secret\x20\x27BOT_LICENSE_EMAIL\x27\x20tidak\x20ditemukan.','src','pages','filter','pinterest','div[data-test-id=\x22editor-with-mentions\x22]\x20[contenteditable=\x22true\x22]','Gambar\x20Pexels\x20ditemukan:\x20','json','BOT_LICENSE_EMAIL','match','Mengunggah\x20gambar...','application/json','File\x20last_keyword_index.txt\x20tidak\x20ditemukan,\x20memulai\x20dari\x20awal.'];a0_0x27d2=function(){return _0x2ed822;};return a0_0x27d2();}const VALIDATION_SERVER_URL=a0_0x49d844(0xbf),PRODUCT_NAME=a0_0x49d844(0xac);async function checkLicense(){const _0x44296d=a0_0x49d844;console['log'](_0x44296d(0xc1));const _0x3f2bf6=process[_0x44296d(0xf8)][_0x44296d(0xb0)];if(!_0x3f2bf6)throw new Error(_0x44296d(0xa8));const _0x424ecd=VALIDATION_SERVER_URL+'?email='+encodeURIComponent(_0x3f2bf6)+_0x44296d(0xe8)+PRODUCT_NAME;try{const _0x4e8922=await fetch(_0x424ecd),_0x2b593b=await _0x4e8922[_0x44296d(0xaf)]();if(_0x4e8922['ok']&&_0x2b593b[_0x44296d(0x11a)]==='valid')return console[_0x44296d(0x100)](_0x44296d(0xd8)),!![];throw new Error(_0x44296d(0xf2)+_0x4e8922['status']+')\x20-\x20'+(_0x2b593b[_0x44296d(0xd7)]||_0x44296d(0x114)));}catch(_0x4fd0f6){throw new Error(_0x44296d(0xe4)+_0x4fd0f6[_0x44296d(0xd7)]);}}const USED_PEXELS_FILE=path['join'](__dirname,a0_0x49d844(0x11b)),COOKIES_PATH=path[a0_0x49d844(0xbb)](__dirname,a0_0x49d844(0xeb)),LAST_KEYWORD_INDEX_FILE=path[a0_0x49d844(0xbb)](__dirname,a0_0x49d844(0xca));async function getUsedItems(_0x584908){const _0xaf12ea=a0_0x49d844;try{const _0x584b03=await fs[_0xaf12ea(0x118)](_0x584908,_0xaf12ea(0x103));return new Set(_0x584b03[_0xaf12ea(0x108)]('\x0a')[_0xaf12ea(0xab)](_0x579d98=>_0x579d98[_0xaf12ea(0xe5)]()!==''));}catch(_0xedf4c0){if(_0xedf4c0[_0xaf12ea(0x113)]===_0xaf12ea(0x110))return new Set();throw _0xedf4c0;}}async function addUsedItem(_0x44b9a9,_0x294238){const _0x29e09c=a0_0x49d844;await fs[_0x29e09c(0xc4)](_0x44b9a9,_0x294238+'\x0a');}async function getPexelsImage(_0x31c96f,_0x3d9bf2){const _0x3cf22a=a0_0x49d844;console[_0x3cf22a(0x100)](_0x3cf22a(0xd4)+_0x31c96f+'\x22');const _0x5dea57=await axios[_0x3cf22a(0xb8)](_0x3cf22a(0xce)+encodeURIComponent(_0x31c96f)+_0x3cf22a(0xed),{'headers':{'Authorization':process['env'][_0x3cf22a(0xcc)]}}),_0x5d8947=_0x5dea57[_0x3cf22a(0x10b)]['photos'];if(!_0x5d8947||_0x5d8947[_0x3cf22a(0xcb)]===0x0)throw new Error(_0x3cf22a(0x9b)+_0x31c96f+'.');const _0x1e1080=_0x5d8947[_0x3cf22a(0xf4)](_0x1056e7=>!_0x3d9bf2[_0x3cf22a(0xd0)](String(_0x1056e7['id'])));if(!_0x1e1080)throw new Error(_0x3cf22a(0xe2));return console[_0x3cf22a(0x100)](_0x3cf22a(0xae)+_0x1e1080[_0x3cf22a(0xb6)]),{'url':_0x1e1080[_0x3cf22a(0xa9)][_0x3cf22a(0x10a)],'id':String(_0x1e1080['id'])};}async function getGeminiContentForPexels(_0xf7708f){const _0x572982=a0_0x49d844;console['log'](_0x572982(0xe1));const _0x427d6f=config[_0x572982(0x107)][_0x572982(0xe3)][_0x572982(0x106)](_0x572982(0xa4),_0xf7708f);try{const _0xab0d4f=await axios[_0x572982(0xbc)]('https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key='+process[_0x572982(0xf8)][_0x572982(0xd6)],{'contents':[{'parts':[{'text':_0x427d6f}]}]},{'headers':{'Content-Type':_0x572982(0xb3)}}),_0x135689=_0xab0d4f['data']['candidates'][0x0][_0x572982(0xfa)][_0x572982(0xc7)][0x0][_0x572982(0xbe)],_0x54af28=_0x135689[_0x572982(0xb1)](/Judul: (.*)/),_0x43799c=_0x135689['match'](/Deskripsi: (.*)/s);if(_0x54af28&&_0x43799c)return console[_0x572982(0x100)](_0x572982(0x9c)),{'title':_0x54af28[0x1][_0x572982(0xe5)](),'description':_0x43799c[0x1]['trim']()};}catch(_0x5193dc){console[_0x572982(0xf6)](_0x572982(0xe0),_0x5193dc[_0x572982(0x10d)]?_0x5193dc[_0x572982(0x10d)][_0x572982(0x10b)]:_0x5193dc[_0x572982(0xd7)]);}return console['log'](_0x572982(0xbd)),{'title':config[_0x572982(0x107)][_0x572982(0xe7)],'description':config['gemini']['fallbackDescription'][_0x572982(0x106)](_0x572982(0xa4),'#'+_0xf7708f[_0x572982(0x106)](/\s+/g,''))};}function a0_0xccbe(_0x42addb,_0x1b1285){const _0x27d285=a0_0x27d2();return a0_0xccbe=function(_0xccbe31,_0x1daff4){_0xccbe31=_0xccbe31-0x9a;let _0xd1629a=_0x27d285[_0xccbe31];return _0xd1629a;},a0_0xccbe(_0x42addb,_0x1b1285);}async function postToPinterest(_0x3143c5,_0x420a21){const _0x109e72=a0_0x49d844;console['log'](_0x109e72(0x102)+_0x420a21[_0x109e72(0xfe)]+'\x22');const _0x20de1a=await axios['get'](_0x420a21['imageUrl'],{'responseType':_0x109e72(0xb9)}),_0x1dd629=path[_0x109e72(0xbb)](__dirname,'temp_image.jpg');await fs[_0x109e72(0x9f)](_0x1dd629,_0x20de1a[_0x109e72(0x10b)]),await _0x3143c5[_0x109e72(0xc8)](_0x109e72(0x105),{'waitUntil':_0x109e72(0xf7),'timeout':0x15f90}),console[_0x109e72(0x100)](_0x109e72(0xb2));const _0x209c3b=await _0x3143c5[_0x109e72(0xcf)](_0x109e72(0xd2),{'timeout':0xea60});await _0x209c3b[_0x109e72(0xfd)](_0x1dd629),console[_0x109e72(0x100)](_0x109e72(0xb5));const _0x243621=_0x109e72(0x101),_0x3e78aa=_0x109e72(0xad),_0x5f38a9=_0x109e72(0xff),_0x1aaf47=_0x109e72(0xd5);await _0x3143c5[_0x109e72(0xcf)](_0x243621,{'timeout':0xea60}),await _0x3143c5[_0x109e72(0xd3)](_0x243621,_0x420a21['title'],{'delay':0x64}),await _0x3143c5['type'](_0x3e78aa,_0x420a21['description'],{'delay':0x64});_0x420a21[_0x109e72(0xc6)]&&await _0x3143c5['type'](_0x5f38a9,_0x420a21[_0x109e72(0xc6)],{'delay':0x64});console[_0x109e72(0x100)](_0x109e72(0xa7));const _0x46d2fc=await _0x3143c5['waitForSelector'](_0x1aaf47,{'visible':!![]});await _0x46d2fc[_0x109e72(0xef)](),console['log'](_0x109e72(0x119)),await _0x3143c5[_0x109e72(0xf0)](0x3a98);const _0x588098=await _0x3143c5['$'](_0x1aaf47);_0x588098?(console[_0x109e72(0x100)](_0x109e72(0xe6)),await _0x588098[_0x109e72(0xef)](),await _0x3143c5[_0x109e72(0xf0)](0x2710)):console[_0x109e72(0x100)](_0x109e72(0x109)),console['log'](_0x109e72(0x111)+_0x420a21[_0x109e72(0xfe)]+_0x109e72(0xfc)),await fs[_0x109e72(0x112)](_0x1dd629);}async function main(){const _0x566c37=a0_0x49d844;await checkLicense();let _0x14a943;try{if(process[_0x566c37(0xf8)][_0x566c37(0x117)])await fs[_0x566c37(0x9f)](COOKIES_PATH,process[_0x566c37(0xf8)][_0x566c37(0x117)],'utf8');else throw new Error(_0x566c37(0x115));const _0x3ea2cd=await fs['readFile'](COOKIES_PATH,_0x566c37(0x103));let _0xcfd16c=JSON[_0x566c37(0x9d)](_0x3ea2cd);const _0x28bf68=_0xcfd16c[_0x566c37(0xf5)](_0x2077df=>{const _0x4c2af8=_0x566c37;_0x2077df[_0x4c2af8(0xda)]&&!['Lax','Strict',_0x4c2af8(0xf1)][_0x4c2af8(0xc2)](_0x2077df[_0x4c2af8(0xda)])&&delete _0x2077df['sameSite'];for(const _0x3300cf in _0x2077df){_0x2077df[_0x3300cf]===null&&delete _0x2077df[_0x3300cf];}return _0x2077df;});_0x14a943=await puppeteer['launch']({'executablePath':'/usr/bin/google-chrome','headless':'new','args':[_0x566c37(0xa5)]});const _0x1baeaa=await _0x14a943[_0x566c37(0xa3)]();await _0x1baeaa['setCookie'](..._0x28bf68),console[_0x566c37(0x100)](_0x566c37(0xa0));const _0x440a1c=path[_0x566c37(0xbb)](__dirname,config[_0x566c37(0xba)][_0x566c37(0xdb)]||_0x566c37(0x9a));let _0x287baf=[];try{const _0x56d292=await fs[_0x566c37(0x118)](_0x440a1c,'utf8');_0x287baf=_0x56d292[_0x566c37(0x108)]('\x0a')['filter'](_0x5edcff=>_0x5edcff['trim']()!=='');if(_0x287baf[_0x566c37(0xcb)]===0x0)throw new Error('File\x20keyword\x20\x27'+_0x440a1c+_0x566c37(0x10e));}catch(_0xe425c4){throw new Error(_0x566c37(0xa6)+_0x440a1c+_0x566c37(0xec)+_0xe425c4[_0x566c37(0xd7)]);}let _0x102d30=-0x1;try{const _0x55c412=await fs[_0x566c37(0x118)](LAST_KEYWORD_INDEX_FILE,_0x566c37(0x103));_0x102d30=parseInt(_0x55c412[_0x566c37(0xe5)](),0xa);}catch(_0x1f9115){console[_0x566c37(0x100)](_0x566c37(0xb4));}const _0x35d3bf=(_0x102d30+0x1)%_0x287baf[_0x566c37(0xcb)],_0x338929=_0x287baf[_0x35d3bf];console[_0x566c37(0x100)](_0x566c37(0xea)+(_0x35d3bf+0x1)+_0x566c37(0xb7)+_0x338929+'\x22');const _0x1c98e6=await getUsedItems(USED_PEXELS_FILE),_0x567d6a=await getPexelsImage(_0x338929,_0x1c98e6),_0xb6378a=await getGeminiContentForPexels(_0x338929),_0x23c71b=config[_0x566c37(0xcd)]['destinationLink'];await postToPinterest(_0x1baeaa,{'title':_0xb6378a[_0x566c37(0xfe)],'description':_0xb6378a[_0x566c37(0xee)],'imageUrl':_0x567d6a[_0x566c37(0xb6)],'destinationLink':_0x23c71b}),await addUsedItem(USED_PEXELS_FILE,_0x567d6a['id']),await fs[_0x566c37(0x9f)](LAST_KEYWORD_INDEX_FILE,String(_0x35d3bf),_0x566c37(0x103)),console['log'](_0x566c37(0x104));}catch(_0x99d525){console[_0x566c37(0xf6)](_0x566c37(0xf9),_0x99d525[_0x566c37(0xd7)]);if(_0x14a943){const _0x359048=(await _0x14a943[_0x566c37(0xaa)]())[0x0],_0x137616=path[_0x566c37(0xbb)](__dirname,_0x566c37(0xc3));await _0x359048[_0x566c37(0x10c)]({'path':_0x137616,'fullPage':!![]}),console[_0x566c37(0x100)](_0x566c37(0xf3)+_0x137616);}process[_0x566c37(0xa1)](0x1);}finally{_0x14a943&&await _0x14a943[_0x566c37(0x10f)]();}}main();
